trial.table['Fung KY', 'Kremleva EA']
colnames(trial)
library(rentrez)
pubmed_search <- entrez_search(db = "pubmed", term = "ph[and]vagina[and]bacteria",retmax=5)
pubmed_search$ids
pubmed_search$count
summaries <- entrez_summary(db = "pubmed", ids = pubmed_search$ids)
authors <- xpathSApply(summaries, "//Item[@Name='Author']",xmlValue)
titles <- xpathSApply(summaries, "//Item[@Name='Title']", xmlValue)
print(summaries)
abstracts <- entrez_fetch(db = "pubmed", ids = pubmed_search$ids,file_format='abstract',retmode='text')
abstracts <- c(strsplit(abstracts, "\n\n\n"))
key_terms <- c(strsplit("bacterial vaginosis, yeast infection, preterm birth",','))
trial <- matrix(ncol=length(authors),nrow=length(authors))
colnames(trial) <- c(authors)
rownames(trial) <- c(authors)
trial.table <- as.table(trial)
trial.table['Fung KY', 'Kremleva EA']
View(trial)
?gsub
?grep
authors2 <- xpathSApply(summaries, "//Item[@Name='AuthorList']")
for(i in seq(1, length(authors))) {
for(k in (1, length(authors2))) {
print(authors2[k])
}
print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print(authors2[k])
}
print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print(xpathSApply(authors2[k], "//Item[@Name='Author']"))
}
print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print(xpathSApply(authors2[k], "//Item[@Name='Author']", xmlValue) )
}
print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print( xpathSApply(authors2[[k]], "//Item[@Name='Author']", xmlValue) )
}
print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
authors2 <- xpathSApply(summaries, "//Item[@Name='AuthorList']")
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print( xpathSApply(authors2[[k]], "//Item[@Name='Author']", xmlValue) )
}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
?xpathApply
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print( xpathApply(authors2[[k]], "//Item[@Name='Author']", xmlValue) )
}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
authors2 <- getNodeSet(summaries, "//Item[@Name='AuthorList']")
fix(authors2)
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print( xpathApply(authors2[[k]], "//Item[@Name='Author']", xmlValue) )
}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print( xpathSApply(authors2[[k]], "//Item[@Name='Author']", xmlValue) )
}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
authors2
authors2[5]
authors2[5][[1]]
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print( xpathSApply(authors2[[k]][[1]], "//Item[@Name='Author']", xmlValue) )
}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
xpathSApply(authors2[[5]][[1]], "//Item[@Name='Author']", xmlValue)
xpathSApply(authors2[[5]][1], "//Item[@Name='Author']", xmlValue)
xpathSApply(authors2[5][[1]], "//Item[@Name='Author']", xmlValue)
xpathSApply(authors2[[5]][[1]], "//Item[@Name='Author']", xmlValue)
xpathSApply(authors2[[5]][[1]], "//Item[@Name='Author']", xmlValue)
xmlValue
authors2[[5]][[1]]
authors2[[5]][1]
authors2[[5]][[1]]
authors2[[5]]
authors2[[5]]
authors2 <- getNodeSet(summaries, "//Item[@Name='AuthorList']")
authors2 <- getNodeSet(summaries, "//Item[@Name='AuthorList']")
authors2[[5]]
xpathSApply(authors2[[5]], "//Item[@Name='Author']", xmlValue)
xpathSApply(authors2[[5]], "//Item[@Name='Author' @Type='String']", xmlValue)
xpathSApply(authors2[[5]], "//Item[@Name='Author',@Type='String']", xmlValue)
xpathSApply(authors2[[5]], "//Item[@Name='Author'][1]", xmlValue)
xpathSApply(authors2[[5]], "//Item[@Name='Author'][11]", xmlValue)
xpathSApply(authors2[[5]], "//Item[@Name='Author'][12]", xmlValue)
xpathSApply(authors2[[5]], "//Item[@Name='Author']", xmlValue)
xpathSApply(authors2[[5]], "//Item[@Name='AuthorList']", xmlValue)
xpathSApply(authors2[[5]], "//Item[@Name='AuthorList']", xmlValue)
d <- xmlParse(summaries)
authors2 <- new(getNodeSet(summaries, "//Item[@Name='AuthorList']"))
authors2 <- getNodeSet(summaries, "//Item[@Name='AuthorList']").new()
fix(authors2)
authors2 <- getNodeSet(summaries, "//Item[@Name='AuthorList']")
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print(getNodeSet(authors2[[k]][[1]], "//Item[@Name='Author']", xmlValue))
print( xpathSApply(authors2[[k]][[1]], "//Item[@Name='Author']", xmlValue) )
}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print(getNodeSet(authors2[[k]][[1]], "//Item[@Name='Author']"))
print( xpathSApply(authors2[[k]][[1]], "//Item[@Name='Author']", xmlValue) )
}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print(getNodeSet(authors2[[k]], "//Item[@Name='Author']"))
print( xpathSApply(authors2[[k]], "//Item[@Name='Author']", xmlValue) )
}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']"))
print( xpathSApply(authors2[[k]], "//Item[@Name='Author']", xmlValue) )
}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[1])
#print( xpathSApply(authors2[[k]], "//Item[@Name='Author']", xmlValue) )
}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
#print( xpathSApply(authors2[[k]], "//Item[@Name='Author']", xmlValue) )
}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(authors2[[k]], "//Item[@Name='AuthorList']", xmlValue)[5] )
}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(authors2, "//Item[@Name='AuthorList']", xmlValue)[5] )
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(summaries, "//Item[@Name='AuthorList']", xmlValue)[5] )
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(summaries, "//Item[@Name='AuthorList']")[5] )
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(xpathSApply(summaries, "//Item[@Name='AuthorList']")[5], "//Item[@Name='Author' ) )
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
}
}
}
}
}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(xpathSApply(summaries, "//Item[@Name='AuthorList']")[5], "//Item[@Name='Author'" ))
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(xpathSApply(summaries, "//Item[@Name='AuthorList']"), "//Item[@Name='Author'" ))
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(xpathSApply(summaries, "//Item[@Name='AuthorList']")[[5]], "//Item[@Name='Author'" ))
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(xpathSApply(summaries, "//Item[@Name='AuthorList']")[[5]], "//Item[@Name='Author']" ))
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(summaries, "//Item[@Name='AuthorList']")[[5]])
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(summaries, "//Item[@Name='AuthorList']")[[5]][[1]])
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(summaries, "//Item[@Name='AuthorList']")[[5]], xmlValue, sep="-")
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(summaries, "//Item[@Name='AuthorList']", xmlValue, sep="-") )
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
authors2 <- newXMLDoc(getNodeSet(summaries, "//Item[@Name='AuthorList']"))
fix(authors)
fix(authors2)
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(authors2, "//Item[@Name='AuthorList']", xmlValue, sep="-") )
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(authors2, "//Item[@Name='AuthorList']", xmlValue, sep="-") )
#}
print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(authors2, "//Item[@Name='AuthorList']", xmlValue ) )
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(authors2, "//Item[@Name='AuthorList']", xmlValue ) )
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
authors2 <- getNodeSet(summaries, "//Item[@Name='AuthorList']")
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(authors2, "//Item[@Name='AuthorList']", xmlValue ) )
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
authors2 <- getNodeSet(summaries, "//Item[@Name='AuthorList']")
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(authors2, "//Item[@Name='Author']", xmlValue ) )
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
authors2 <- getNodeSet(summaries, "//Item[@Name='AuthorList']")
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(authors2, "//Item[@Name='Author']", xmlValue ) )
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
authors2 <- xpathSApply(summaries, "//Item[@Name='AuthorList']")
for(i in seq(1, length(authors)) ) {
#for(k in seq(1, length(authors2)) ) {
#print(getNodeSet(authors2[[k]], "//Item[@Name='AuthorList']")[5])
print( xpathSApply(authors2, "//Item[@Name='Author']", xmlValue ) )
#}
#print(authors2)
#for(j in seq(1, length(authors))) {
#  if( (grep( authors[i], ) != -1) && (i != j) ) {
#    trial.table[authors[i], authors[j]] = trial.table[authors[i], authors[j]] + 1
#  }
#}
}
fix(authors2)
library(shiny)
#options(browser='firefox')
setwd("~/Dropbox/DecisivatoR/www")
runApp(getwd(),launch.browser = getOption("shiny.launch.browser", interactive()))
runApp(getwd(),launch.browser = getOption("shiny.launch.browser", interactive()))
remove.packages("shiny", lib="/Library/Frameworks/R.framework/Versions/2.15/Resources/library")
detach("package:shiny", unload=TRUE)
